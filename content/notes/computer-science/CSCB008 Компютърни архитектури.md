---
title: CSCB008 Компютърни архитектури
tags:
  - computer-science
---

> [!info]  
> 
> Записки от лекциите по [CSCB008 Компютърни архитектури](https://ecatalog.nbu.bg/default.asp?V_Year=2023&YSem=3&Spec_ID=&Mod_ID=&PageShow=coursepresent&P_Menu=courses_part1&Fac_ID=3&M_PHD=&P_ID=832&TabIndex=1&K_ID=30890&K_TypeID=10&l=0), водени от доц. д-р Ясен Горбунов.


## Лекция 2 - Изчислителна техника. Сигнали. Бройни системи.

Преминаване в десетична бройна система:

$$
N = \sum_{i=-m}^nk_i.p^i
$$

$i = -m$ - позиция, $k_i$ разряден коефициент (bin - {0; 1}, dec - {0; 1; ...; 9}, и т.н.), $p^i$ основа (2, 8, 10 и т.н.).

$$
N = \frac{k_n.p^n + k_{n-1}.p^{n-1}+\dots+k_0*p^0}{\text{за цялата част }} + \frac{k_{-1}*p^{-1}  + \dots + k_{-m}.p^{-m}}{\text {за дробна част}}
$$

### Binary Coded Decimal (BCD)

**Непакетиран BCD:** цял байт за всяка една цифра (често включващ и знак)
**Пакетиран BCD:** един байт съдържа две цифри, заради факта, че 4 бита са достатъчни да представят цифрите от 0 до 9.

Десетте състояния представящи BCD цифра се наричат тетради. 

В сравнение с бинарна позиционна система, BCD е по-точна в представянето и закръглянето на десетични стойности, както и конвертирането в човешки-разбираема стойност. Поради това изискват и по-сложни схеми за изчисляване на прости аритметични операции.

**NBCD / 8421**

|Decimal digit|**8**|**4**|**2**|**1**|
|---|---|---|---|---|
|0|0|0|0|0|
|1|0|0|0|1|
|2|0|0|1|0|
|3|0|0|1|1|
|4|0|1|0|0|
|5|0|1|0|1|
|6|0|1|1|0|
|7|0|1|1|1|
|8|1|0|0|0|
|9|1|0|0|1|

**Aiken Code / 2421**

|Decimal digit | **2** | **4** | **2** | **1** |
|---|---|---|---|---|
|0|0 | 0 | 0 | 0|
|1|0 | 0 | 0 | 1|
|2|0 | 0 | 1 | 0|
|3|0 | 0 | 1 | 1|
|4|0 | 1 | 0 | 0|
|5|1 | 0 | 1 | 1|
|6|1 | 1 | 0 | 0|
|7|1 | 1 | 0 | 1|
|8|1 | 1 | 1 | 0|
|9|1 | 1 | 1 | 1|

**Примери**

$$
2067_{DEC} \rightarrow BCD_{8421}
$$

| 2 | 0 | 6 | 7 |
|-|-|-|-|
|0010|0000|0110|0111|

$$
2067_{DEC} \rightarrow BCD_{2421}
$$

| 2 | 0 | 6 | 7 |
|-|-|-|-|
|0010|0000|1100|1101|

**Excess-3 / Код на Стибиц**

Двочините цифри нямат тегло, а позиция. Към числото в код 8-4-2-1 се прибавя $3_{(10)}$ ($0011_{(2)}$).

| Decimal digit | 8-4-2-1 | Код XS-3 |
|---|---|---|
| 0 | 0000 | 0011 |
| 1 | 0001 | 0100 |
| 2 | 0010 | 0101 |
| 3 | 0011 | 0110 |
| 4 | 0100 | 0111 |
| 5 | 0101 | 1000 |
| 6 | 0110 | 1001 |
| 7 | 0111 | 1010 |
| 8 | 1000 | 1011 |
| 9 | 1001 | 1100 |


## Лекция 3 - Системи за двоично кодиране. Математика с двойни числа

**Алгоритъм "Double dabble" (shift-and-add 3)**

1. Заделят се $n+4.\lceil \frac{n}{3} \rceil$ бита; двоичният оригинал се намира отдясно.
2. Проверява се дали някоя BCD цифра е >4; ако е, то се прибавя $3_{(10)} = 0011_{(2)}
3. Извършва се преместване наляво
4. След общо $n$ премествания алгоритъмът приключва

Пример:
Битовете нужни за числото $11110011_{(2)}$ са:
$$
n+4.\lceil \frac{n}{3} \rceil = 8+4.\lceil \frac{8}{3} \rceil = 8+4.3 = 20
$$

$$
\begin{align}
\begin{matrix}
0000 & 0000 & 0000 & \boxed{11110011} & \text{init} \\
0000 & 0000 & 000\boxed{1} & \boxed{1110011}0 & \text{shift (<<)} \\
0000 & 0000 & 00\boxed{11} & \boxed{110011}00 & \text{shift (<<)} \\
0000 & 0000 & 0\boxed{111} & \boxed{10011}000 & \text{shift (<<)} &  111_{(2)} = 7_{(10)} > 4_{(10)} \\
0000 & 0000 & \boxed{1010} & \boxed{10011}000 & \text{+ 3 към единиците}  \\
0000 & 000\boxed{1} & \boxed{0101} & \boxed{0011}0000 & \text{ shift (<<)} \\
\dots \\
0010 & 0100 & 0011 & 00000000 \\
2_{(10)} & 4_{(10)} & 3_{(10)} & \text{ BCD }
\end{matrix}
\end{align}
$$

**Събиране на числа в BCD код**

Събиране на $9_{DEC}$ + $9_{DEC}$ + $1_{DEC}$

$$
\begin{align}
\begin{matrix}
 & 9_{DEC} & 1001 \\
+ & 1_{DEC} & 0001 \\
& & \overline{1010}
\end{matrix}
\end{align}
$$

> [!info] Важно!
> Ако сумата е $\geq 1010_{BIN}$ ($1001_{BIN}$+ преонс), трябва да се добави $6_{DEC} = 0110$.

Добавяме 6:
$$
\begin{align}
\begin{matrix}
& 1010 \\
+ & 0110 \\
&  \overline{1\text{ }0000}
\end{matrix}
\end{align}
$$

Добавяме 9:

